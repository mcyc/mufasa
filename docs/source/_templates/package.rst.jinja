{% set fullname = submodules[0].rsplit('.', 1)[0] if submodules else "Unnamed Module" -%}
.. _{{ fullname }}:

{{ fullname }}
{{ "=" * fullname|length }}

.. currentmodule:: {{ fullname }}

{{ description|default("No description available.") }}

.. automodule:: {{ fullname }}
   :noindex:

{% if submodules -%}
.. rubric:: Submodules

.. autosummary::
   :toctree:

   {% for submodule in submodules -%}
   {{ submodule.rsplit('.', 1)[-1] }}
   {% endfor -%}
{% endif %}

{% if classes -%}
.. rubric:: Classes

.. autosummary::
   :toctree: generated/
   :nosignatures:

   {% for cls in classes %}
   ~{{ cls }}
   {% endfor -%}
{% endif %}

{% if functions -%}
.. rubric:: Functions

.. autosummary::
   :toctree: generated/
   :nosignatures:

   {% for func in functions %}
   ~{{ func }}
   {% endfor -%}
{% endif %}